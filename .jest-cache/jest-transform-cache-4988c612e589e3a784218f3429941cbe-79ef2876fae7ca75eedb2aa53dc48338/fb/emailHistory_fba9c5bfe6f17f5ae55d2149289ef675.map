{"file":"/home/runner/workspace/utils/email/emailHistory.ts","mappings":";AAAA;;;;;GAKG;;;AAyDD,8CAAiB;AACjB,0CAAe;AACf,oCAAY;AAzDd,uDAA4D;AAa5D,qDAAqD;AACrD,MAAM,YAAY,GAAwB,EAAE,CAAC;AA4C3C,oCAAY;AA1Cd;;;;;;GAMG;AACH,SAAS,iBAAiB;IACxB,IAAA,sBAAQ,EAAC,mBAAmB,CAAC,CAAC;IAC9B,MAAM,OAAO,GAAG,YAAY,CAAC,MAAM,CAAC;IACpC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;IACxB,IAAA,uBAAS,EAAC,mBAAmB,EAAE,OAAO,CAAC,CAAC;IACxC,OAAO,OAAO,CAAC;AACjB,CAAC;AAED;;;;;GAKG;AACH,SAAS,eAAe;IACtB,IAAA,sBAAQ,EAAC,iBAAiB,CAAC,CAAC;IAC5B,MAAM,OAAO,GAAG,CAAC,GAAG,YAAY,CAAC,CAAC;IAClC,IAAA,uBAAS,EAAC,iBAAiB,EAAE,GAAG,OAAO,CAAC,MAAM,SAAS,CAAC,CAAC;IACzD,OAAO,OAAO,CAAC;AACjB,CAAC;AAED;;;;GAIG;AACH,SAAS,YAAY,CAAC,SAA4B;IAChD,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/B,CAAC","names":[],"sources":["/home/runner/workspace/utils/email/emailHistory.ts"],"sourcesContent":["/**\n * Email History Management Utility - TypeScript Implementation\n * \n * This module manages email history for testing and verification purposes.\n * It provides a clean separation of history management from email sending logic.\n */\n\nimport { logStart, logReturn } from '../../lib/logUtils.js';\n\n// Type definitions\ninterface EmailHistoryEntry {\n  success: boolean;\n  emailData?: any;\n  message: string;\n  timestamp: Date;\n  id?: string;\n  error?: string;\n  [key: string]: any;\n}\n\n// In-memory storage for email history during testing\nconst emailHistory: EmailHistoryEntry[] = [];\n\n/**\n * Clear email history for test isolation\n * \n * This function provides a clean slate for each test by removing all previously\n * mocked email records. Essential for test isolation and preventing test\n * interference when running multiple email-related test suites.\n */\nfunction clearEmailHistory(): number {\n  logStart('clearEmailHistory');\n  const cleared = emailHistory.length;\n  emailHistory.length = 0;\n  logReturn('clearEmailHistory', cleared);\n  return cleared;\n}\n\n/**\n * Get email history for test verification\n * \n * This function provides access to all emails that have been \"sent\" through\n * the sendEmail function. Returns a copy to prevent accidental modification.\n */\nfunction getEmailHistory(): EmailHistoryEntry[] {\n  logStart('getEmailHistory');\n  const history = [...emailHistory];\n  logReturn('getEmailHistory', `${history.length} emails`);\n  return history;\n}\n\n/**\n * Add email to history\n * \n * Internal function to add an email to the history tracking.\n */\nfunction addToHistory(emailData: EmailHistoryEntry): void {\n  emailHistory.push(emailData);\n}\n\n// Export using ES module syntax\nexport { \n  clearEmailHistory, \n  getEmailHistory, \n  addToHistory, \n  emailHistory // Export for direct access in advanced testing scenarios\n};"],"version":3}