9f48022a4adb72a12d1f0af3ca75b7e0
const {
  execFileSync
} = require('child_process'); //child process runner
const path = require('path'); //path helper

require('../setup'); //activate stub resolution for test environment

test('setup called twice still returns stubs', () => {
  //verify repeated setup
  const scriptPath = path.join(__dirname, 'setupMultipleChild.js'); //child script
  const output = execFileSync(process.execPath, [scriptPath], {
    env: {
      NODE_PATH: ''
    }
  }).toString(); //run child script
  const lastLine = output.trim().split('\n').pop(); //extract JSON line ignoring logs
  const result = JSON.parse(lastLine); //parse child output
  expect(result.axiosStub).toBe(true); //axios should resolve to stub
  expect(result.winstonStub).toBe(true); //winston should resolve to stub
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleGVjRmlsZVN5bmMiLCJyZXF1aXJlIiwicGF0aCIsInRlc3QiLCJzY3JpcHRQYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsIm91dHB1dCIsInByb2Nlc3MiLCJleGVjUGF0aCIsImVudiIsIk5PREVfUEFUSCIsInRvU3RyaW5nIiwibGFzdExpbmUiLCJ0cmltIiwic3BsaXQiLCJwb3AiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJleHBlY3QiLCJheGlvc1N0dWIiLCJ0b0JlIiwid2luc3RvblN0dWIiXSwic291cmNlcyI6WyJzZXR1cE11bHRpcGxlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBleGVjRmlsZVN5bmMgfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTsgLy9jaGlsZCBwcm9jZXNzIHJ1bm5lclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTsgLy9wYXRoIGhlbHBlclxuXG5yZXF1aXJlKCcuLi9zZXR1cCcpOyAvL2FjdGl2YXRlIHN0dWIgcmVzb2x1dGlvbiBmb3IgdGVzdCBlbnZpcm9ubWVudFxuXG50ZXN0KCdzZXR1cCBjYWxsZWQgdHdpY2Ugc3RpbGwgcmV0dXJucyBzdHVicycsICgpID0+IHsgLy92ZXJpZnkgcmVwZWF0ZWQgc2V0dXBcbiAgY29uc3Qgc2NyaXB0UGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsICdzZXR1cE11bHRpcGxlQ2hpbGQuanMnKTsgLy9jaGlsZCBzY3JpcHRcbiAgY29uc3Qgb3V0cHV0ID0gZXhlY0ZpbGVTeW5jKHByb2Nlc3MuZXhlY1BhdGgsIFtzY3JpcHRQYXRoXSwgeyBlbnY6IHsgTk9ERV9QQVRIOiAnJyB9IH0pLnRvU3RyaW5nKCk7IC8vcnVuIGNoaWxkIHNjcmlwdFxuICBjb25zdCBsYXN0TGluZSA9IG91dHB1dC50cmltKCkuc3BsaXQoJ1xcbicpLnBvcCgpOyAvL2V4dHJhY3QgSlNPTiBsaW5lIGlnbm9yaW5nIGxvZ3NcbiAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShsYXN0TGluZSk7IC8vcGFyc2UgY2hpbGQgb3V0cHV0XG4gIGV4cGVjdChyZXN1bHQuYXhpb3NTdHViKS50b0JlKHRydWUpOyAvL2F4aW9zIHNob3VsZCByZXNvbHZlIHRvIHN0dWJcbiAgZXhwZWN0KHJlc3VsdC53aW5zdG9uU3R1YikudG9CZSh0cnVlKTsgLy93aW5zdG9uIHNob3VsZCByZXNvbHZlIHRvIHN0dWJcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBO0FBQWEsQ0FBQyxHQUFHQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztBQUNuRCxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDOztBQUU5QkEsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7O0FBRXJCRSxJQUFJLENBQUMsd0NBQXdDLEVBQUUsTUFBTTtFQUFFO0VBQ3JELE1BQU1DLFVBQVUsR0FBR0YsSUFBSSxDQUFDRyxJQUFJLENBQUNDLFNBQVMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7RUFDbEUsTUFBTUMsTUFBTSxHQUFHUCxZQUFZLENBQUNRLE9BQU8sQ0FBQ0MsUUFBUSxFQUFFLENBQUNMLFVBQVUsQ0FBQyxFQUFFO0lBQUVNLEdBQUcsRUFBRTtNQUFFQyxTQUFTLEVBQUU7SUFBRztFQUFFLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDcEcsTUFBTUMsUUFBUSxHQUFHTixNQUFNLENBQUNPLElBQUksQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ2xELE1BQU1DLE1BQU0sR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNOLFFBQVEsQ0FBQyxDQUFDLENBQUM7RUFDckNPLE1BQU0sQ0FBQ0gsTUFBTSxDQUFDSSxTQUFTLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDckNGLE1BQU0sQ0FBQ0gsTUFBTSxDQUFDTSxXQUFXLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDekMsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119