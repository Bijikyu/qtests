{"version":3,"names":["logStart","logReturn","require","createEmailTemplate","templateName","variables","templates","welcome","subject","body","notification","reset","template","error","success","message","availableTemplates","Object","keys","key","value","entries","placeholder","replace","RegExp","result","module","exports"],"sources":["emailTemplate.js"],"sourcesContent":["/**\n * Email Template Utility\n * \n * This module provides email templating functionality for consistent\n * email formatting across the application. It handles template creation\n * and variable substitution.\n */\n\nconst { logStart, logReturn } = require('../../lib/logUtils');\n\n/**\n * Create email template for consistent formatting\n * \n * This function provides a template system for common email patterns.\n * Useful for applications that send similar emails with variable content.\n * \n * @param {string} templateName - Name of the email template to use\n * @param {Object} variables - Variables to substitute in the template\n * @returns {Object} Email template with subject and body\n */\nfunction createEmailTemplate(templateName, variables = {}) {\n  logStart('createEmailTemplate', templateName, variables);\n  \n  const templates = {\n    welcome: {\n      subject: 'Welcome to {{appName}}!',\n      body: 'Hello {{userName}},\\n\\nWelcome to {{appName}}! We\\'re excited to have you on board.\\n\\nBest regards,\\nThe {{appName}} Team'\n    },\n    notification: {\n      subject: '{{appName}} Notification: {{title}}',\n      body: 'Hello {{userName}},\\n\\n{{message}}\\n\\nBest regards,\\nThe {{appName}} Team'\n    },\n    reset: {\n      subject: 'Reset your {{appName}} password',\n      body: 'Hello {{userName}},\\n\\nYou requested to reset your password. Use this link: {{resetLink}}\\n\\nIf you didn\\'t request this, please ignore this email.\\n\\nBest regards,\\nThe {{appName}} Team'\n    }\n  };\n  \n  const template = templates[templateName];\n  if (!template) {\n    const error = {\n      success: false,\n      message: `Unknown email template: ${templateName}`,\n      availableTemplates: Object.keys(templates)\n    };\n    logReturn('createEmailTemplate', error);\n    return error;\n  }\n  \n  // Substitute variables in template\n  let subject = template.subject;\n  let body = template.body;\n  \n  for (const [key, value] of Object.entries(variables)) {\n    const placeholder = `{{${key}}}`;\n    subject = subject.replace(new RegExp(placeholder, 'g'), value || '');\n    body = body.replace(new RegExp(placeholder, 'g'), value || '');\n  }\n  \n  // Replace any remaining placeholders with empty strings\n  subject = subject.replace(/\\{\\{[^}]+\\}\\}/g, '');\n  body = body.replace(/\\{\\{[^}]+\\}\\}/g, '');\n  \n  const result = {\n    success: true,\n    template: {\n      subject,\n      body\n    },\n    templateName,\n    variables\n  };\n  \n  logReturn('createEmailTemplate', result);\n  return result;\n}\n\nmodule.exports = {\n  createEmailTemplate\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;EAAEA,QAAQ;EAAEC;AAAU,CAAC,GAAGC,OAAO,CAAC,oBAAoB,CAAC;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,mBAAmBA,CAACC,YAAY,EAAEC,SAAS,GAAG,CAAC,CAAC,EAAE;EACzDL,QAAQ,CAAC,qBAAqB,EAAEI,YAAY,EAAEC,SAAS,CAAC;EAExD,MAAMC,SAAS,GAAG;IAChBC,OAAO,EAAE;MACPC,OAAO,EAAE,yBAAyB;MAClCC,IAAI,EAAE;IACR,CAAC;IACDC,YAAY,EAAE;MACZF,OAAO,EAAE,qCAAqC;MAC9CC,IAAI,EAAE;IACR,CAAC;IACDE,KAAK,EAAE;MACLH,OAAO,EAAE,iCAAiC;MAC1CC,IAAI,EAAE;IACR;EACF,CAAC;EAED,MAAMG,QAAQ,GAAGN,SAAS,CAACF,YAAY,CAAC;EACxC,IAAI,CAACQ,QAAQ,EAAE;IACb,MAAMC,KAAK,GAAG;MACZC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,2BAA2BX,YAAY,EAAE;MAClDY,kBAAkB,EAAEC,MAAM,CAACC,IAAI,CAACZ,SAAS;IAC3C,CAAC;IACDL,SAAS,CAAC,qBAAqB,EAAEY,KAAK,CAAC;IACvC,OAAOA,KAAK;EACd;;EAEA;EACA,IAAIL,OAAO,GAAGI,QAAQ,CAACJ,OAAO;EAC9B,IAAIC,IAAI,GAAGG,QAAQ,CAACH,IAAI;EAExB,KAAK,MAAM,CAACU,GAAG,EAAEC,KAAK,CAAC,IAAIH,MAAM,CAACI,OAAO,CAAChB,SAAS,CAAC,EAAE;IACpD,MAAMiB,WAAW,GAAG,KAAKH,GAAG,IAAI;IAChCX,OAAO,GAAGA,OAAO,CAACe,OAAO,CAAC,IAAIC,MAAM,CAACF,WAAW,EAAE,GAAG,CAAC,EAAEF,KAAK,IAAI,EAAE,CAAC;IACpEX,IAAI,GAAGA,IAAI,CAACc,OAAO,CAAC,IAAIC,MAAM,CAACF,WAAW,EAAE,GAAG,CAAC,EAAEF,KAAK,IAAI,EAAE,CAAC;EAChE;;EAEA;EACAZ,OAAO,GAAGA,OAAO,CAACe,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC;EAC/Cd,IAAI,GAAGA,IAAI,CAACc,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC;EAEzC,MAAME,MAAM,GAAG;IACbX,OAAO,EAAE,IAAI;IACbF,QAAQ,EAAE;MACRJ,OAAO;MACPC;IACF,CAAC;IACDL,YAAY;IACZC;EACF,CAAC;EAEDJ,SAAS,CAAC,qBAAqB,EAAEwB,MAAM,CAAC;EACxC,OAAOA,MAAM;AACf;AAEAC,MAAM,CAACC,OAAO,GAAG;EACfxB;AACF,CAAC","ignoreList":[]}