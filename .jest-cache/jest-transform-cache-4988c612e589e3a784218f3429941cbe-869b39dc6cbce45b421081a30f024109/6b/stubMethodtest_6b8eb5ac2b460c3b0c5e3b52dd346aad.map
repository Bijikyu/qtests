{"version":3,"names":["stubMethod","require","describe","it","obj","greet","name","restore","result","expect","toBe","toThrow","proto","Object","create","prototype","hasOwnProperty","call"],"sources":["stubMethod.test.js"],"sourcesContent":["// qtests dogfooding - using qtests to test itself instead of Jest\nconst stubMethod = require('../utils/stubMethod');\n\ndescribe('stubMethod', () => {\n\n  it('should replace and restore methods', () => {\n    const obj = { greet: name => `Hello, ${name}` };\n    const restore = stubMethod(obj, 'greet', () => 'Hi');\n    const result = obj.greet('Bob');\n    restore();\n    expect(result).toBe('Hi');\n    expect(obj.greet('Bob')).toBe('Hello, Bob');\n  });\n\n  it('should throw for non-object target', () => {\n    expect(() => stubMethod(null, 'greet', () => {})).toThrow();\n  });\n\n  it('should throw when method missing', () => {\n    expect(() => stubMethod({}, 'missing', () => {})).toThrow();\n  });\n\n  it('should throw for non-function stub', () => {\n    const obj = { greet: () => 'hi' };\n    expect(() => stubMethod(obj, 'greet', 'notFn')).toThrow();\n  });\n\n  it('should handle inherited methods', () => {\n    const proto = { greet: () => 'proto' };\n    const obj = Object.create(proto);\n    const restore = stubMethod(obj, 'greet', () => 'stub');\n    expect(obj.greet()).toBe('stub');\n    restore();\n    expect(Object.prototype.hasOwnProperty.call(obj, 'greet')).toBe(false);\n    expect(obj.greet()).toBe('proto');\n  });\n});\n"],"mappings":"AAAA;AACA,MAAMA,UAAU,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAEjDC,QAAQ,CAAC,YAAY,EAAE,MAAM;EAE3BC,EAAE,CAAC,oCAAoC,EAAE,MAAM;IAC7C,MAAMC,GAAG,GAAG;MAAEC,KAAK,EAAEC,IAAI,IAAI,UAAUA,IAAI;IAAG,CAAC;IAC/C,MAAMC,OAAO,GAAGP,UAAU,CAACI,GAAG,EAAE,OAAO,EAAE,MAAM,IAAI,CAAC;IACpD,MAAMI,MAAM,GAAGJ,GAAG,CAACC,KAAK,CAAC,KAAK,CAAC;IAC/BE,OAAO,CAAC,CAAC;IACTE,MAAM,CAACD,MAAM,CAAC,CAACE,IAAI,CAAC,IAAI,CAAC;IACzBD,MAAM,CAACL,GAAG,CAACC,KAAK,CAAC,KAAK,CAAC,CAAC,CAACK,IAAI,CAAC,YAAY,CAAC;EAC7C,CAAC,CAAC;EAEFP,EAAE,CAAC,oCAAoC,EAAE,MAAM;IAC7CM,MAAM,CAAC,MAAMT,UAAU,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAACW,OAAO,CAAC,CAAC;EAC7D,CAAC,CAAC;EAEFR,EAAE,CAAC,kCAAkC,EAAE,MAAM;IAC3CM,MAAM,CAAC,MAAMT,UAAU,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAACW,OAAO,CAAC,CAAC;EAC7D,CAAC,CAAC;EAEFR,EAAE,CAAC,oCAAoC,EAAE,MAAM;IAC7C,MAAMC,GAAG,GAAG;MAAEC,KAAK,EAAEA,CAAA,KAAM;IAAK,CAAC;IACjCI,MAAM,CAAC,MAAMT,UAAU,CAACI,GAAG,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,CAACO,OAAO,CAAC,CAAC;EAC3D,CAAC,CAAC;EAEFR,EAAE,CAAC,iCAAiC,EAAE,MAAM;IAC1C,MAAMS,KAAK,GAAG;MAAEP,KAAK,EAAEA,CAAA,KAAM;IAAQ,CAAC;IACtC,MAAMD,GAAG,GAAGS,MAAM,CAACC,MAAM,CAACF,KAAK,CAAC;IAChC,MAAML,OAAO,GAAGP,UAAU,CAACI,GAAG,EAAE,OAAO,EAAE,MAAM,MAAM,CAAC;IACtDK,MAAM,CAACL,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAACK,IAAI,CAAC,MAAM,CAAC;IAChCH,OAAO,CAAC,CAAC;IACTE,MAAM,CAACI,MAAM,CAACE,SAAS,CAACC,cAAc,CAACC,IAAI,CAACb,GAAG,EAAE,OAAO,CAAC,CAAC,CAACM,IAAI,CAAC,KAAK,CAAC;IACtED,MAAM,CAACL,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAACK,IAAI,CAAC,OAAO,CAAC;EACnC,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}